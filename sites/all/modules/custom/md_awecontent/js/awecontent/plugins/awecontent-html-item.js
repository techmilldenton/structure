(function(a){AWEContent.Models.HtmlItem=AWEContent.Models.Item.extend({defaults:{machine_name:"html",contentHtml:"<b>Custom Code HTML</b>",lgResponsive:true,xsResponsive:true,mediumResponsive:true,smResponsive:true},createView:function(){this.view=new AWEContent.Views.HtmlItem({model:this})},clone:function(){var b={};a.each(this.toJSON(),function(c,d){b[c]=d});return new AWEContent.Models.HtmlItem(b)}});AWEContent.Views.HtmlItem=AWEContent.Views.Item.extend({initialize:function(){AWEContent.Views.Item.prototype.initialize.call(this)},renderItemContent:function(){var c=this,d=c.model.toJSON(),b=a('<div class="awe-item awe-html"></div>');c.$html=b;c.$html.html(d.contentHtml);c.$el.defaultResponsive(d);return b},applySettingsChanged:function(c){var b=this,d=b.model.toJSON();a.each(c.changed,function(e,f){b.$el.changeResponsive(e,f);switch(e){case"contentHtml":b.$html.empty().html(d.contentHtml);break}})}});AWEContent.Views.HtmlItemController=AWEContent.Views.ItemController.extend({machineName:"html",controllerHtml:function(){return'<div class="title-icon">HTML code</div><i class="ic ac-icon-code"></i>'},createItemModel:function(b){if(b!=undefined){return new AWEContent.Models.HtmlItem(b)}return new AWEContent.Models.HtmlItem()}});AWEContent.Views.HtmlPanel=AWEContent.Views.ItemPanel.extend({tagName:"div",className:"awe-obj-panel panel-html",panelName:"html",initPanel:function(){var b=this;AWEContent.Views.ItemPanel.prototype.initPanel.call(this);a("#ace-editor-value",b.el).val(b.editingModel.get("contentHtml"));AWEContent.Library.addLibrary("aceEditor",function(){b.loadLibraryDone()},true)},loadLibraryDone:function(){var b=this;b.editor=ace.edit("ace-editor-edit");b.editor.setTheme("ace/theme/twilight");b.editor.getSession().setMode("ace/mode/html");b.editor.setOption("wrap",25);b.editor.setDisplayIndentGuides(true);b.editor.renderer.setShowGutter(true);b.editor.getSession().on("change",function(d,c){b.editingModel.set("contentHtml",b.editor.getValue())});b.addLibraryDone=true},setPanelElementsValue:function(){var c=this,d=this.editingModel.toJSON(),b=setInterval(function(){if(c.addLibraryDone){c.editor.getSession().setValue(d.contentHtml);clearInterval(b)}},50)},buildPanel:function(){return{title:{type:"markup",markup:'<div class="awe-title"><h2>HTML Custom</h2></div>'},custom_attributes:{type:"section",custom_html:{type:"markup",markup:"<div class='ace-editor-wrapper'><div class='ace-editor-edit' id='ace-editor-edit'></div></div>"}}}}});a(document).ready(function(){AWEContent.Controllers.html=new AWEContent.Views.HtmlItemController();AWEContent.Panels.html=new AWEContent.Views.HtmlPanel()})})(jQuery);