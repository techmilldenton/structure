(function(d){var c=false;function e(){d("body").removeClass("awecontent-active");d(".awecontent-body-wrapper").children().show();d("#drupal-field-panel .scrollbar").removeClass("obj-adjust scroll-bar");d("#drupal-field-panel").removeClass("awe-obj-panel")}function a(){d("body").addClass("awecontent-active");d(".awecontent-body-wrapper").children().hide();d("#drupal-field-panel").parents().show();d("#drupal-field-panel").addClass("awe-obj-panel");d("#drupal-field-panel .scrollbar").addClass("obj-adjust scroll-bar").perfectScrollbar()}function b(f){if(!c){d("body").awecontent({pageURL:AWEContent.Path.layoutURL,sections:f,sectionsWrapper:"#awe-section-wrapper",pageWrapper:Drupal.settings.acPageWrapper,sectionAlwaysFluid:d("#edit-ac-container-full-width").is(":checked")?1:0,closeBuilderCallback:function(g){e();if(g){d("#edit-ac-content").val(JSON.stringify(g));d("#edit-ac-status").prop("checked",true).trigger("change")}}});c=true}else{AWEContent.Toolbars.drupal.resetToolbar();d("body").awecontent("openBuilder",f)}a()}d(document).ready(function(){var f=d("input[name=path_config]").val().trim();if(f){AWEContent.Path=d.extend({},AWEContent.Path,JSON.parse(f))}AWEContent.pageTemplatesDialog=new AWEContent.Views.PageTemplateDialog();d("body").append('<div class="awecontent-body-wrapper"></div>');d(".awecontent-body-wrapper").append(d("body").children(":not(.awecontent-body-wrapper, .sp-container)"));d("a.ac-active-builder-btn").click(function(h){h.preventDefault();var g=d("#edit-ac-content").val().trim()?JSON.parse(d("#edit-ac-content").val().trim()):[];if(g.length==0&&Drupal.settings.ac_has_page_template){AWEContent.pageTemplatesDialog.open()}else{b(g)}});AWEContent.pageTemplatesDialog.$el.bind("close",function(h,g){b(g)});d("#edit-ac-status").change(function(g){if(d(this).is(":checked")){d("a.ac-disable-builder-btn").show()}else{d("a.ac-disable-builder-btn").hide()}}).trigger("change");d("a.ac-disable-builder-btn").click(function(g){g.preventDefault();d("#edit-ac-status").prop("checked",false).trigger("change")});d("#edit-ac-container-full-width").change(function(){if(c){var g=d(this).is(":checked")?1:0;d("body").awecontent("option","sectionAlwaysFluid",g)}})})})(jQuery);