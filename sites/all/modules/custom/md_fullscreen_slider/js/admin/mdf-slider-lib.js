!function(t){t.fn.triggerItemEvent=function(){var e=t(this).data("slidepanel");if(null!=e){var i=t(this);return i.draggable({containment:"parent",drag:function(o,r){var n=Math.round(t(r.helper).position().left),a=Math.round(t(r.helper).position().top);i.data("left",n),i.data("top",a),e.toolbar.changePositionValue(n,a)}}),i.resizable({handles:"e, s, se",containment:"parent",resize:function(o,r){var n=Math.round(t(r.helper).width()),a=Math.round(t(r.helper).height());i.data("width",n),i.data("height",a),e.toolbar.changeSizeValue(n,a)}}),i.bind("mousedown",function(i){i.shiftKey?t(this).hasClass("ui-selected")||(t(this).addClass("ui-selected"),e.triggerChangeSelectItem()):t(this).hasClass("ui-selected")?t(this).siblings(".slider-item.ui-selected").size()>0&&(t(this).siblings(".slider-item.ui-selected").removeClass("ui-selected"),e.triggerChangeSelectItem()):(t(this).siblings(".slider-item").removeClass("ui-selected"),t(this).addClass("ui-selected"),e.triggerChangeSelectItem())}),this}},t.fn.getItemValues=function(){if(t(this).hasClass("slider-item")){var e=t(this).data(),i={width:100,height:50,left:0,top:0,starttime:0,stoptime:0,startani:"",stopani:"",startaniTime:0,stopaniTime:0,opacity:100,style:"",zindex:"",type:"",title:"",color:"",backgroundColor:"",backgroundTransparent:"",border:0,borderAll:"none",borderTop:"none",borderRight:"none",borderBottom:"none",borderLeft:"none",borderTopLeftRadius:"",borderTopRightRadius:"",borderBottomRightRadius:"",borderBottomLeftRadius:"",padding:0,paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:"",shadow:0,shadowAngle:0,shadowOffset:0,shadowBlur:0,shadowColor:"#000",fontSize:"",fontFamily:"",fontWeight:"",lineHeight:"",textDecoration:"",textTransform:"",textAlign:"",link:"",linkColor:"",linkBorderColor:"",linkBackgroundColor:"",linkTarget:"",linkCustomClass:"",customClass:"",customCss:"",fileid:"",thumb:"",thumbid:""},o={};for(var r in i)o[r]=e[r];return t.extend(i,o)}return null},t.fn.setItemValues=function(e){return t(this).hasClass("slider-item")?(t(this).data(e),!0):null},t.fn.setItemStyle=function(e){if(t(this).hasClass("slider-item")){var i={};if(e.customClass&&t(this).addClass(e.customClass),e.width&&(i.width=e.width),e.height&&(i.height=e.height),e.top&&(i.top=e.top),e.left&&(i.left=e.left),e.opacity&&(i.opacity=e.opacity),e.backgroundColor&&(i["background-color"]=e.backgroundColor),e.borderTop&&(i.borderTop=e.borderTop),e.borderRight&&(i.borderRight=e.borderRight),e.borderBottom&&(i.borderBottom=e.borderBottom),e.borderLeft&&(i.borderLeft=e.borderLeft),e.borderTopLeftRadius&&(i["border-top-left-radius"]=e.borderTopLeftRadius+"px"),e.borderTopRightRadius&&(i["border-top-right-radius"]=e.borderTopRightRadius+"px"),e.borderBottomRightRadius&&(i["border-bottom-right-radius"]=e.borderBottomRightRadius+"px"),e.borderBottomLeftRadius&&(i["border-bottom-left-radius"]=e.borderBottomLeftRadius+"px"),e.paddingTop&&(i["padding-top"]=e.paddingTop+"px"),e.paddingRight&&(i["padding-right"]=e.paddingRight+"px"),e.paddingBottom&&(i["padding-bottom"]=e.paddingBottom+"px"),e.paddingLeft&&(i["padding-left"]=e.paddingLeft+"px"),e.shadow){var o=e.shadowAngle,r=e.shadowOffset,n=e.shadowBlur,a=e.shadowColor;if(null!=o&&null!=r&&null!=n&&null!=a){var s=Math.round(r*Math.cos((o-90)/180*Math.PI)),d=Math.round(r*Math.sin((o-90)/180*Math.PI)),l=s+"px "+d+"px "+parseInt(n)+"px "+a;i["box-shadow"]=l}else i["box-shadow"]="none"}if(e.zindex&&(i["z-index"]=e.zindex),"text"==e.type){if(e.fontSize&&(i["font-size"]=e.fontSize+"px"),e.lineHeight&&(i["line-height"]=e.lineHeight+"px"),e.fontFamily&&(i["font-family"]='"'+e.fontFamily+'"'),e.fontWeight){var h=e.fontWeight.toString();h.indexOf("italic")>0?(i["font-weight"]=parseInt(h),i["font-style"]="italic"):(i["font-weight"]=parseInt(h),i["font-style"]="normal")}e.textDecoration&&(i["text-decoration"]=e.textDecoration),e.textTransform&&(i["text-transform"]=e.textTransform),e.textAlign&&(i["text-align"]=e.textAlign),e.color&&(i.color=e.color)}t(this).css(i)}return!1},t.fn.setItemHtml=function(e){return t(this).hasClass("slider-item")&&("text"==e.type?t(this).find("div").html(e.title.replace(/\n/g,"<br />")):t(this).find("img").attr("src",e.thumb)),!1},t.HexToRGB=function(t){var t=parseInt(t.toString().indexOf("#")>-1?t.substring(1):t,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}},t.removeMinusSign=function(t){return t.replace(/-/g,"")},t.objectToString=function(t){return JSON.stringify(t)},t.stringToObject=function(t){try{return jQuery.parseJSON(t)}catch(e){return{}}},window.MdImagePopup=function(e){function i(t){e.onSubmit.call(this,t[0].url,{fileid:t[0].fid,name:t[0].filename})}var o={onSubmit:function(t,e){}};e=t.extend({},o,e),this.open=function(){Drupal.media.popups.mediaBrowser(i)},this.open()},window.submitVideo=function(e,i){var o=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);if(null!=o){var r=location.origin+Drupal.settings.basePath+"fullscreen-slider/youtube-data/"+o[1];t.getJSON(r,function(e){e&&(e=t.parseJSON(e),console.log(e),i.call(null,{id:o[1],title:e.title,thumb:e.thumbnail_url}))})}else{var n=/vimeo.*\/(\d+)/i.exec(e);null!=n&&t.getJSON("http://vimeo.com/api/v2/video/"+n[1]+".json?callback=?",{format:"json"},function(t){t&&i.call(null,{id:t[0].id,title:t[0].title,thumb:t[0].thumbnail_medium})})}}}(jQuery);